


declare @p geography = GEOGRAPHY::STGeomFromText('

POLYGON((-3.347 51.532,-3.346 51.536,-3.343 51.539,-3.338 51.541,-3.328 51.539,-3.327 51.543,-3.324 51.546,-3.316 51.547,-3.312 51.553,-3.296 51.552,-3.292 51.554,-3.276 51.556,-3.271 51.554,-3.269 51.547,-3.267 51.547,-3.265 51.544,-3.261 51.542,-3.253 51.545,-3.247 51.553,-3.239 51.557,-3.232 51.557,-3.227 51.554,-3.219 51.557,-3.206 51.557,-3.204 51.56,-3.201 51.561,-3.182 51.561,-3.161 51.564,-3.156 51.562,-3.151 51.556,-3.149 51.556,-3.147 51.559,-3.142 51.559,-3.139 51.557,-3.134 51.557,-3.132 51.555,-3.123 51.554,-3.121 51.551,-3.117 51.549,-3.111 51.551,-3.105 51.548,-3.104 51.545,-3.093 51.541,-3.088 51.537,-3.078 51.535,-3.074 51.529,-3.074 51.526,-3.071 51.526,-3.065 51.522,-3.065 51.518,-3.07 51.514,-3.074 51.513,-3.075 51.51,-3.082 51.507,-3.073 51.495,-3.075 51.491,-3.102 51.479,-3.115 51.472,-3.121 51.467,-3.132 51.462,-3.136 51.458,-3.135 51.456,-3.137 51.449,-3.14 51.447,-3.145 51.448,-3.149 51.444,-3.158 51.439,-3.161 51.439,-3.169 51.444,-3.171 51.443,-3.189 51.444,-3.194 51.448,-3.196 51.452,-3.197 51.451,-3.206 51.455,-3.207 51.461,-3.22 51.471,-3.24 51.467,-3.24 51.464,-3.242 51.462,-3.248 51.46,-3.254 51.46,-3.259 51.462,-3.272 51.461,-3.283 51.47,-3.286 51.48,-3.299 51.492,-3.301 51.497,-3.307 51.498,-3.312 51.502,-3.339 51.505,-3.343 51.51,-3.343 51.516,-3.341 51.519,-3.343 51.521,-3.343 51.524,-3.348 51.528,-3.347 51.532))

', 4326).ReorientObject()
;

declare @v varchar(max);

;with lel (lol) as (

SELECT @p.ToString()

)

select
	@v = substring(lol, 11, len(rtrim(lol)) - 12)
from lel
;

print @v;

select 
latitude = substring(ltrim(rtrim(value)), charindex(' ', ltrim(rtrim(value))) + 1, 100),
longitude = left(ltrim(rtrim(value)), charindex(' ', ltrim(rtrim(value))) - 1)


from string_split(@v, ',')
;


